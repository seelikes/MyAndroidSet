/**
 * 查找可能存在的仓库目录
 */
def findPath(String path, Boolean createInSetDefault = true) {
    def curFile = file('./')
    while (curFile != null) {
        def repoFile = new File(curFile, path)
        if (repoFile.exists()) {
            return repoFile
        }
        def findEndDir = "${rootDir.name}"
        if (rootDir.parentFile.name == "MyAndroidSet") {
            findEndDir = "MyAndroidSet"
        }
        if (curFile.name == findEndDir) {
            if (createInSetDefault) {
                return new File(curFile, path)
            }
            break
        }
        curFile = curFile.parentFile
    }
    return null
}

/**
 * 检查数组是否包含元素
 * @param arr 数组
 * @param contain 元素
 * @return 是否包含元素
 */
def arrayContains(Object[] arr, Object contain) {
    if (arr == null || arr.length == 0) {
        return false
    }
    for (Object item : arr) {
        if (item == contain) {
            return true
        }
    }
    return false
}

ext {
    findPath = this.&findPath
    arrayContains = this.&arrayContains
}